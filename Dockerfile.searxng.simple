FROM searxng/searxng:latest

# Copy custom settings - only copy the settings.yml file
COPY ./searxng/settings.yml /etc/searxng/settings.yml

# Set environment variables to disable problematic engines
ENV SEARXNG_ENGINES_SOUNDCLOUD_DISABLED=true
ENV SEARXNG_ENGINES_WIKIDATA_DISABLED=true
ENV SEARXNG_ENGINES_WOLFRAMALPHA_DISABLED=true
ENV SEARXNG_ENGINES_YOUTUBE_DISABLED=true
ENV SEARXNG_ENGINES_YAHOO_DISABLED=true
ENV SEARXNG_ENGINES_YAHOO_NEWS_DISABLED=true
ENV SEARXNG_ENGINES_YANDEX_DISABLED=true
ENV SEARXNG_ENGINES_YANDEX_IMAGES_DISABLED=true

# Network timeouts
ENV SEARXNG_OUTGOING_REQUEST_TIMEOUT=15.0
ENV SEARXNG_OUTGOING_MAX_REQUEST_TIMEOUT=60.0

# Required for render.com
EXPOSE 8080 